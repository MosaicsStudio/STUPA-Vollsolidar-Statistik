% !TEX root = ../Main.tex

% Supress all warnings; Only show errors
\usepackage{silence}
\WarningsOff*

%----------------------------------------
%   REFERENCES
%----------------------------------------
\usepackage[
    backend=biber,
    sorting=none,
    style=ieee
]{biblatex}
\usepackage{csquotes}
\addbibresource{BibTeX/sources.bib}
\usepackage[nameinlink, noabbrev]{cleveref}
\usepackage[a4paper, margin=2cm]{geometry}

%----------------------------------------
%   FLOATS
%----------------------------------------
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{graphicx}
% itmize
\usepackage{enumitem}
\usepackage{verbatim}
\setlist[itemize]{leftmargin=*, itemsep=0pt, parsep=0pt}

%----------------------------------------
%   CAPTIONS
%----------------------------------------
\usepackage{caption}
\usepackage{floatrow}
\usepackage[subrefformat=parens]{subcaption}
\captionsetup[subfigure]{labelfont=rm,justification=centerlast,font=small,margin=50pt}
\floatsetup[table]{capposition=top}
\floatsetup[image]{capposition=bottom}

%----------------------------------------
%   CUSTOM PACKAGES
%----------------------------------------
\usepackage{glossaries}
\usepackage{blindtext}

\usepackage{listings} 
\lstset{basicstyle=\footnotesize\ttfamily,breaklines=true,numbers=left,frame=single}

\usepackage[htt]{hyphenat}

\lstdefinestyle{htmlCode} {
   language=html,
   basicstyle=\scriptsize\ttfamily,
   keywordstyle=\color{blue}\bfseries\ttfamily,
   commentstyle=\color{gray}\ttfamily,
   escapechar=| % Escape to LaTeX between |...|
}

\lstdefinestyle{phpCode} {
   language=php,
   morekeywords={php},
   basicstyle=\footnotesize\ttfamily,
   keywordstyle=\color{blue}\bfseries\ttfamily,
   commentstyle=\color{gray}\ttfamily,
   escapechar=| % Escape to LaTeX between |...|
}

\lstdefinestyle{jsCode} {
   language=javascript,
   morekeywords=,
   basicstyle=\scriptsize\ttfamily,
   keywordstyle=\color{blue}\bfseries\ttfamily,
   commentstyle=\color{gray}\ttfamily,
   escapechar=| % Escape to LaTeX between |...|
}

\lstdefinestyle{shellCodeNOPASSWD} {
   language=sh,
   deletekeywords={for,kill,cat},
   morekeywords={sudo},
   basicstyle=\scriptsize\ttfamily,
   keywordstyle=\color{blue}\bfseries\ttfamily,
   commentstyle=\color{gray}\ttfamily,
   escapechar=|, % Escape to LaTeX between |...|
   numbers=none
}

\lstdefinestyle{shellCode} {
   language=sh,
   deletekeywords={},
   morekeywords={sudo,chmod,chown,cp,su,rm,python},
   basicstyle=\scriptsize\ttfamily,
   keywordstyle=\color{blue}\bfseries\ttfamily,
   commentstyle=\color{gray}\ttfamily,
   escapechar=| % Escape to LaTeX between |...|
}

\lstdefinestyle{URL} {
   basicstyle=\footnotesize\ttfamily,
   commentstyle=\color{gray}\ttfamily,
   escapechar=|, % Escape to LaTeX between |...|
   numbers=none
}

\usepackage{color}

\definecolor{light-gray}{gray}{0.80}

\usepackage{caption,xparse}

\ExplSyntaxOn
\tl_new:N \l_listings_boxed_options_tl
\keys_define:nn { listings/boxed }
 {
  caption .tl_set:N = \l_listings_boxed_caption_tl,
  shortcaption .tl_set:N = \l_listings_boxed_shortcaption_tl,
  label .tl_set:N = \l_listings_boxed_label_tl,
  unknown .code:n =
          \tl_put_right:NV \l_listings_boxed_options_tl \l_keys_key_tl
          \tl_put_right:Nn \l_listings_boxed_options_tl { = #1 , },
 }
\box_new:N \l_listings_boxed_box

\lstnewenvironment{blstlisting}[1][]
 {
  \keys_set:nn { listings/boxed } { #1 }
  \exp_args:NV \lstset \l_listings_boxed_options_tl
  \hbox_set:Nw \l_listings_boxed_box
 }
 {
  \hbox_set_end:
  \cs_set_eq:cc {c@figure} {c@lstlisting}
  \tl_set_eq:NN \figurename \lstlistingname
  \tl_if_empty:NF \l_listings_boxed_caption_tl
   {
    \tl_if_empty:NTF \l_listings_boxed_shortcaption_tl
     {
      \captionof{figure}{\l_listings_boxed_caption_tl}
     }
     {
      \captionof{figure}[\l_listings_boxed_shortcaption_tl]{\l_listings_boxed_caption_tl}
     }
    \tl_if_empty:NF \l_listings_boxed_label_tl { \label{\l_listings_boxed_label_tl} }
   }
  \leavevmode\box_use:N \l_listings_boxed_box
 }
\ExplSyntaxOff

\usepackage{multirow}

\usepackage{amssymb}% http://ctan.org/pkg/amssymb
\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\usepackage{epigraph}

\usepackage{csquotes}

\usepackage{lipsum}
\usepackage{setspace}
\usepackage{lmodern}
\usepackage{anyfontsize}

% Authors
% Create a new author array
\newcommand{\authorsArray}{}

\DeclareRobustCommand{\matNr}[1]{%
  \ifx#1\empty
    % Do nothing
  \else
    / #1
  \fi
}

% Define a new command to add an author
\DeclareRobustCommand{\AddAuthor}[3]{%
  % #1 = First Name
  % #2 = Last Name
  % #3 = ID
  \appto{\authorsArray}{& #2, #1 \matNr{#3} \\}%
}

% After all authors have been added, create the \author command
\DeclareRobustCommand{\SetupDocumentAuthors}{%
  % link authorsArray into a string
  \edef\authors{\authorsArray}
  % Use the string in the \author command
  \author{\authors}
}

% Translations
\newcommand{\translationResult}{}

\ExplSyntaxOn
\cs_new_eq:NN \strcompare \str_if_eq:eeTF
\ExplSyntaxOff

\DeclareRobustCommand{\ChooseTranslation}[2]{
  \strcompare{\lang}{\de}{
    #1
  }{
    \strcompare{\lang}{\en}{
      #2
    }{
      \typeout{Error: Unknown language}
      #2
    }
  }
}

\DeclareRobustCommand{\SetTranslationKey}[3]{
  % Localize based on \lang = de or en
  \newcommand{#1}{
    \ChooseTranslation{#2}{#3}
  }
}

\endinput

\usepackage{polyglossia}

\ifthenelse{\equal{\lang}{\de}}{
  \selectlanguage{ngerman}
  \setmainlanguage{ngerman}
  \PolyglossiaSetup{ngerman}{
    hyphenmins={2,2},
    hyphennames={ngerman},
    hyphenrules={ngerman},
    hyphenation={ngerman},
    indentfirst=false
  }

  % Set KOMA-Script language to ngerman and parskip to none
  \KOMAoptions{ngerman, parskip=off}
}{
  \selectlanguage{USenglish}
  \setmainlanguage{USenglish}
}
